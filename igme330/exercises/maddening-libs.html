<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Maddening Libs</title>
	<style>
		body{font-family:sans-serif;}
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rita/1.3.89/rita-full.js"></script>
</head>
<body>
<h1>Maddening Libs</h1>
<section>
	<p><textarea cols="40" rows="7">It was a dark and stormy night ...</textarea></p>
	<p id="output"></p>
</section>
<script>
let input = document.querySelector("textarea");
let output = document.querySelector("#output");

input.oninput = doInput; // called whenever the content of the field changes
input.dispatchEvent(new Event("input")); // calls doInput() when the page first loads

function doInput(e){

    let text = e.target.value;
	if (text.length == 0) return;
	let rs = RiString(text);

    let words = rs.words();
    let s = "";
    let newWord;

    for(let i = 0; i < words.length; i++){
        let w = words[i];
        console.log(rs.posAt(i));
        if(rs.posAt(i) == "nnp"){
            newWord = RiTa.randomWord("nnp");
        }
        else if(rs.posAt(i) == "nnps"){
            newWord = RiTa.randomWord("nnps");
        }
        else if(rs.posAt(i) == "nn"){
            newWord = RiTa.randomWord("nn");
        }
        else if(rs.posAt(i) == "nns"){
            newWord = RiTa.randomWord("nns");
        }
        else if(rs.posAt(i) == "jj"){
            newWord = RiTa.randomWord("jj");
        }
        else if(rs.posAt(i) == "jjr"){
            newWord = RiTa.randomWord("jjr");
        }
        else if(rs.posAt(i) == "jjs"){
            newWord = RiTa.randomWord("jjs");
        }
        else if(rs.posAt(i) == "vb"){
            newWord = RiTa.randomWord("vb");
        }
        else if(rs.posAt(i) == "vbd"){
            newWord = RiTa.randomWord("vbd");
        }
        else if(rs.posAt(i) == "vbg"){
            newWord = RiTa.randomWord("vbg");
        }
        else if(rs.posAt(i) == "vbn"){
            newWord = RiTa.randomWord("vbn");
        }
        else if(rs.posAt(i) == "vbp"){
            newWord = RiTa.randomWord("vbp");
        }
        else if(rs.posAt(i) == "vbz"){
            newWord = RiTa.randomWord("vbz");
        }
        else{
            newWord = w;
        }
        s += newWord + " ";
    }
    
    output.innerHTML = s;
}

</script>
</body>
</html>